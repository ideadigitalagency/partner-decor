!function(t,e,i,n){"use strict";var s=function(e){this.owl=e,this._thumbcontent=[],this._identifier=0,this.owl_currentitem=this.owl.options.startPosition,this.$element=this.owl.$element,this._handlers={"prepared.owl.carousel":t.proxy(function(e){if(!e.namespace||!this.owl.options.thumbs||this.owl.options.thumbImage||this.owl.options.thumbsPrerendered||this.owl.options.thumbImage){if(e.namespace&&this.owl.options.thumbs&&this.owl.options.thumbImage){var i=t(e.content).find("img");this._thumbcontent.push(i)}}else void 0!==t(e.content).find("[data-thumb]").attr("data-thumb")&&this._thumbcontent.push(t(e.content).find("[data-thumb]").attr("data-thumb"))},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this.owl.options.thumbs&&(this.render(),this.listen(),this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this.owl.options.thumbs&&(this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this)},this.owl.options=t.extend({},s.Defaults,this.owl.options),this.owl.$element.on(this._handlers)};s.Defaults={thumbs:!0,thumbImage:!1,thumbContainerClass:"owl-thumbs",thumbItemClass:"owl-thumb-item",moveThumbsInside:!1},s.prototype.listen=function(){var e=this.owl.options;e.thumbsPrerendered&&(this._thumbcontent._thumbcontainer=t("."+e.thumbContainerClass)),t(this._thumbcontent._thumbcontainer).on("click",this._thumbcontent._thumbcontainer.children(),t.proxy(function(i){this._identifier=t(i.target).closest("."+e.thumbContainerClass).data("slider-id");var n=t(i.target).parent().is(this._thumbcontent._thumbcontainer)?t(i.target).index():t(i.target).closest("."+e.thumbItemClass).index();e.thumbsPrerendered?t("[data-slider-id="+this._identifier+"]").trigger("to.owl.carousel",[n,e.dotsSpeed,!0]):this.owl.to(n,e.dotsSpeed),i.preventDefault()},this))},s.prototype.render=function(){var e=this.owl.options;e.thumbsPrerendered?(this._thumbcontent._thumbcontainer=t("."+e.thumbContainerClass),e.moveThumbsInside&&this._thumbcontent._thumbcontainer.appendTo(this.$element)):this._thumbcontent._thumbcontainer=t("<div>").addClass(e.thumbContainerClass).appendTo(this.$element);var i;if(e.thumbImage)for(i=0;i<this._thumbcontent.length;++i)this._thumbcontent._thumbcontainer.append("<button class="+e.thumbItemClass+'><img src="'+this._thumbcontent[i].attr("src")+'" alt="'+this._thumbcontent[i].attr("alt")+'" /></button>');else for(i=0;i<this._thumbcontent.length;++i)this._thumbcontent._thumbcontainer.append("<button class="+e.thumbItemClass+">"+this._thumbcontent[i]+"</button>")},s.prototype.setActive=function(){this.owl_currentitem=this.owl._current-this.owl._clones.length/2,this.owl_currentitem===this.owl._items.length&&(this.owl_currentitem=0);var e=this.owl.options,i=e.thumbsPrerendered?t("."+e.thumbContainerClass+'[data-slider-id="'+this._identifier+'"]'):this._thumbcontent._thumbcontainer;i.children().filter(".active").removeClass("active"),i.children().eq(this.owl_currentitem).addClass("active")},s.prototype.destroy=function(){var t,e;for(t in this._handlers)this.owl.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Thumbs=s}(window.Zepto||window.jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm93bFRodW1icy5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJUaHVtYnMiLCJjYXJvdXNlbCIsInRoaXMiLCJvd2wiLCJfdGh1bWJjb250ZW50IiwiX2lkZW50aWZpZXIiLCJvd2xfY3VycmVudGl0ZW0iLCJvcHRpb25zIiwic3RhcnRQb3NpdGlvbiIsIiRlbGVtZW50IiwiX2hhbmRsZXJzIiwicHJlcGFyZWQub3dsLmNhcm91c2VsIiwicHJveHkiLCJlIiwibmFtZXNwYWNlIiwidGh1bWJzIiwidGh1bWJJbWFnZSIsInRodW1ic1ByZXJlbmRlcmVkIiwiaW5uZXJJbWFnZSIsImNvbnRlbnQiLCJmaW5kIiwicHVzaCIsImF0dHIiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwiLCJyZW5kZXIiLCJsaXN0ZW4iLCJkYXRhIiwic2V0QWN0aXZlIiwiY2hhbmdlZC5vd2wuY2Fyb3VzZWwiLCJwcm9wZXJ0eSIsIm5hbWUiLCJleHRlbmQiLCJEZWZhdWx0cyIsIm9uIiwidGh1bWJDb250YWluZXJDbGFzcyIsInRodW1iSXRlbUNsYXNzIiwibW92ZVRodW1ic0luc2lkZSIsInByb3RvdHlwZSIsIl90aHVtYmNvbnRhaW5lciIsImNoaWxkcmVuIiwidGFyZ2V0IiwiY2xvc2VzdCIsImluZGV4IiwicGFyZW50IiwiaXMiLCJ0cmlnZ2VyIiwiZG90c1NwZWVkIiwidG8iLCJwcmV2ZW50RGVmYXVsdCIsImFwcGVuZFRvIiwiYWRkQ2xhc3MiLCJpIiwibGVuZ3RoIiwiYXBwZW5kIiwiX2N1cnJlbnQiLCJfY2xvbmVzIiwiX2l0ZW1zIiwidGh1bWJDb250YWluZXIiLCJmaWx0ZXIiLCJyZW1vdmVDbGFzcyIsImVxIiwiZGVzdHJveSIsImhhbmRsZXIiLCJvZmYiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZm4iLCJvd2xDYXJvdXNlbCIsIkNvbnN0cnVjdG9yIiwiUGx1Z2lucyIsIlplcHRvIiwialF1ZXJ5Il0s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SUMsR0FBU2pDLENBQ2IsS0FBS2lDLElBQVc1RCxNQUFLUSxVQUNqQlIsS0FBS0MsSUFBSU0sU0FBU3NELElBQUlELEVBQVM1RCxLQUFLUSxVQUFVb0QsR0FFbEQsS0FBS2pDLElBQVltQyxRQUFPQyxvQkFBb0IvRCxNQUNkLGtCQUFuQkEsTUFBSzJCLEtBQTZCM0IsS0FBSzJCLEdBQVksT0FJbEVqQyxFQUFFc0UsR0FBR0MsWUFBWUMsWUFBWUMsUUFBUXJFLE9BQVNBLEdBRS9DSCxPQUFPeUUsT0FBU3pFLE9BQU8wRSxPQUFRMUUsT0FBUUMiLCJmaWxlIjoib3dsVGh1bWJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUaHVtYnMgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMC4wXHJcbiAqIEBhdXRob3IgR2lqcyBSb2fDg8KpXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuKGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIHRodW1icyBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIHRodW1icyBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIFRodW1icyA9IGZ1bmN0aW9uIChjYXJvdXNlbCkge1xyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub3dsID0gY2Fyb3VzZWw7XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgRE9NIGVsZW1lbnRzIGZvciB0aHVtYm5haWxzXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdGh1bWJjb250ZW50ID0gW107XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbnN0YW5jZSBpZGVudGllZmllclxyXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pZGVudGlmaWVyID0gMDtcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybiBjdXJyZW50IGl0ZW0gcmVnYXJkbGVzcyBvZiBjbG9uZXNcclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLm93bF9jdXJyZW50aXRlbSA9IHRoaXMub3dsLm9wdGlvbnMuc3RhcnRQb3NpdGlvbjtcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBjYXJvdXNlbCBlbGVtZW50LlxyXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9IHRoaXMub3dsLiRlbGVtZW50O1xyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMub3dsLm9wdGlvbnMudGh1bWJzICYmICF0aGlzLm93bC5vcHRpb25zLnRodW1iSW1hZ2UgJiYgIXRoaXMub3dsLm9wdGlvbnMudGh1bWJzUHJlcmVuZGVyZWQgJiYgIXRoaXMub3dsLm9wdGlvbnMudGh1bWJJbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGUuY29udGVudCkuZmluZCgnW2RhdGEtdGh1bWJdJykuYXR0cignZGF0YS10aHVtYicpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGh1bWJjb250ZW50LnB1c2goJChlLmNvbnRlbnQpLmZpbmQoJ1tkYXRhLXRodW1iXScpLmF0dHIoJ2RhdGEtdGh1bWInKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLm93bC5vcHRpb25zLnRodW1icyAmJiB0aGlzLm93bC5vcHRpb25zLnRodW1iSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJJbWFnZSA9ICQoZS5jb250ZW50KS5maW5kKCdpbWcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aHVtYmNvbnRlbnQucHVzaChpbm5lckltYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcblxyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMub3dsLm9wdGlvbnMudGh1bWJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lkZW50aWZpZXIgPSB0aGlzLm93bC4kZWxlbWVudC5kYXRhKCdzbGlkZXItaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdwb3NpdGlvbicgJiYgdGhpcy5vd2wub3B0aW9ucy50aHVtYnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pZGVudGlmaWVyID0gdGhpcy5vd2wuJGVsZW1lbnQuZGF0YSgnc2xpZGVyLWlkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5vd2wub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBUaHVtYnMuRGVmYXVsdHMsIHRoaXMub3dsLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciB0aGUgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLm93bC4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgVGh1bWJzLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIHRodW1iczogdHJ1ZSxcclxuICAgICAgICB0aHVtYkltYWdlOiBmYWxzZSxcclxuICAgICAgICB0aHVtYkNvbnRhaW5lckNsYXNzOiAnb3dsLXRodW1icycsXHJcbiAgICAgICAgdGh1bWJJdGVtQ2xhc3M6ICdvd2wtdGh1bWItaXRlbScsXHJcbiAgICAgICAgbW92ZVRodW1ic0luc2lkZTogZmFsc2VcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciB0aHVtYm5haWwgY2xpY2tcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgVGh1bWJzLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIC8vc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vd2wub3B0aW9ucztcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMudGh1bWJzUHJlcmVuZGVyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGh1bWJjb250ZW50Ll90aHVtYmNvbnRhaW5lciA9ICQoJy4nICsgb3B0aW9ucy50aHVtYkNvbnRhaW5lckNsYXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY2hlY2sgd2hhdCB0aHVtYml0ZW0gaGFzIGJlZW4gY2xpY2tlZCBhbmQgbW92ZSBzbGlkZXIgdG8gdGhhdCBpdGVtXHJcbiAgICAgICAgJCh0aGlzLl90aHVtYmNvbnRlbnQuX3RodW1iY29udGFpbmVyKS5vbignY2xpY2snLCB0aGlzLl90aHVtYmNvbnRlbnQuX3RodW1iY29udGFpbmVyLmNoaWxkcmVuKCksICQucHJveHkoZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGZpbmQgcmVsYXRpdmUgc2xpZGVyXHJcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aWZpZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuJyArIG9wdGlvbnMudGh1bWJDb250YWluZXJDbGFzcykuZGF0YSgnc2xpZGVyLWlkJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgaW5kZXggb2YgY2xpY2tlZCB0aHVtYm5haWxcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gJChlLnRhcmdldCkucGFyZW50KCkuaXModGhpcy5fdGh1bWJjb250ZW50Ll90aHVtYmNvbnRhaW5lcikgPyAkKGUudGFyZ2V0KS5pbmRleCgpIDogJChlLnRhcmdldCkuY2xvc2VzdCgnLicrb3B0aW9ucy50aHVtYkl0ZW1DbGFzcykuaW5kZXgoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRodW1ic1ByZXJlbmRlcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzbGlkZSB0byBzbGlkZSA6KVxyXG4gICAgICAgICAgICAgICAgJCgnW2RhdGEtc2xpZGVyLWlkPScgKyB0aGlzLl9pZGVudGlmaWVyICsgJ10nKS50cmlnZ2VyKCd0by5vd2wuY2Fyb3VzZWwnLCBbaW5kZXgsIG9wdGlvbnMuZG90c1NwZWVkLCB0cnVlXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bC50byhpbmRleCwgb3B0aW9ucy5kb3RzU3BlZWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCdWlsZHMgdGh1bWJuYWlsc1xyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBUaHVtYnMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy9zZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm93bC5vcHRpb25zO1xyXG5cclxuICAgICAgICAvL2NyZWF0ZSB0aHVtYmNvbnRhaW5lclxyXG4gICAgICAgIGlmICghb3B0aW9ucy50aHVtYnNQcmVyZW5kZXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aHVtYmNvbnRlbnQuX3RodW1iY29udGFpbmVyID0gJCgnPGRpdj4nKS5hZGRDbGFzcyhvcHRpb25zLnRodW1iQ29udGFpbmVyQ2xhc3MpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RodW1iY29udGVudC5fdGh1bWJjb250YWluZXIgPSAkKCcuJyArIG9wdGlvbnMudGh1bWJDb250YWluZXJDbGFzcyArICcnKTtcclxuICAgICAgICAgICAgaWYob3B0aW9ucy5tb3ZlVGh1bWJzSW5zaWRlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RodW1iY29udGVudC5fdGh1bWJjb250YWluZXIuYXBwZW5kVG8odGhpcy4kZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIHRodW1iIGl0ZW1zXHJcbiAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgaWYgKCFvcHRpb25zLnRodW1iSW1hZ2UpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuX3RodW1iY29udGVudC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGh1bWJjb250ZW50Ll90aHVtYmNvbnRhaW5lci5hcHBlbmQoJzxidXR0b24gY2xhc3M9JyArIG9wdGlvbnMudGh1bWJJdGVtQ2xhc3MgKyAnPicgKyB0aGlzLl90aHVtYmNvbnRlbnRbaV0gKyAnPC9idXR0b24+Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5fdGh1bWJjb250ZW50Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aHVtYmNvbnRlbnQuX3RodW1iY29udGFpbmVyLmFwcGVuZCgnPGJ1dHRvbiBjbGFzcz0nICsgb3B0aW9ucy50aHVtYkl0ZW1DbGFzcyArICc+PGltZyBzcmM9XCInICsgdGhpcy5fdGh1bWJjb250ZW50W2ldLmF0dHIoJ3NyYycpICsgJ1wiIGFsdD1cIicgKyB0aGlzLl90aHVtYmNvbnRlbnRbaV0uYXR0cignYWx0JykgKyAnXCIgLz48L2J1dHRvbj4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBhY3RpdmUgY2xhc3Mgb24gdGh1bWJuYWlsc1xyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBUaHVtYnMucHJvdG90eXBlLnNldEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy8gZ2V0IHN0YXJ0c2xpZGVcclxuICAgICAgICB0aGlzLm93bF9jdXJyZW50aXRlbSA9IHRoaXMub3dsLl9jdXJyZW50IC0gKHRoaXMub3dsLl9jbG9uZXMubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgaWYgKHRoaXMub3dsX2N1cnJlbnRpdGVtID09PSB0aGlzLm93bC5faXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3dsX2N1cnJlbnRpdGVtID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vd2wub3B0aW9ucztcclxuXHJcbiAgICAgICAgLy8gc2V0IHJlbGF0aXZlIHRodW1ibmFpbCBjb250YWluZXJcclxuICAgICAgICB2YXIgdGh1bWJDb250YWluZXIgPSBvcHRpb25zLnRodW1ic1ByZXJlbmRlcmVkID8gJCgnLicgKyBvcHRpb25zLnRodW1iQ29udGFpbmVyQ2xhc3MgKyAnW2RhdGEtc2xpZGVyLWlkPVwiJyArIHRoaXMuX2lkZW50aWZpZXIgKyAnXCJdJykgOiB0aGlzLl90aHVtYmNvbnRlbnQuX3RodW1iY29udGFpbmVyO1xyXG4gICAgICAgIHRodW1iQ29udGFpbmVyLmNoaWxkcmVuKCkuZmlsdGVyKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHRodW1iQ29udGFpbmVyLmNoaWxkcmVuKCkuZXEodGhpcy5vd2xfY3VycmVudGl0ZW0pLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgVGh1bWJzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5vd2wuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT09ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuVGh1bWJzID0gVGh1bWJzO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpOyJdfQ==
