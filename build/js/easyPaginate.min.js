!function($){$.fn.easyPaginate=function(options){var defaults={paginateElement:"li",hashPage:"page",elementsPerPage:10,effect:"default",slideOffset:200,firstButton:!0,firstButtonText:"<<",lastButton:!0,lastButtonText:">>",prevButton:!0,prevButtonText:"<",nextButton:!0,nextButtonText:">"};return this.each(function(instance){var plugin={};plugin.el=$(this),plugin.el.addClass("easyPaginateList"),plugin.settings={pages:0,objElements:Object,currentPage:1};var getNbOfPages=function(){return Math.ceil(plugin.settings.objElements.length/plugin.settings.elementsPerPage)},displayNav=function(){for(htmlNav='<div class="easyPaginateNav">',plugin.settings.firstButton&&(htmlNav+='<a href="#'+plugin.settings.hashPage+':1" title="First page" rel="1" class="first">'+plugin.settings.firstButtonText+"</a>"),plugin.settings.prevButton&&(htmlNav+='<a href="" title="Previous" rel="" class="prev">'+plugin.settings.prevButtonText+"</a>"),i=1;i<=plugin.settings.pages;i++)htmlNav+='<a href="#'+plugin.settings.hashPage+":"+i+'" title="Page '+i+'" rel="'+i+'" class="page">'+i+"</a>";plugin.settings.nextButton&&(htmlNav+='<a href="" title="Next" rel="" class="next">'+plugin.settings.nextButtonText+"</a>"),plugin.settings.lastButton&&(htmlNav+='<a href="#'+plugin.settings.hashPage+":"+plugin.settings.pages+'" title="Last page" rel="'+plugin.settings.pages+'" class="last">'+plugin.settings.lastButtonText+"</a>"),htmlNav+="</div>",plugin.nav=$(htmlNav),plugin.nav.css({width:plugin.el.width()}),plugin.el.after(plugin.nav);var e="#"+plugin.el.get(0).id+" + ";$(e+" .easyPaginateNav a.page,"+e+" .easyPaginateNav a.first,"+e+" .easyPaginateNav a.last").on("click",function(e){e.preventDefault(),displayPage($(this).attr("rel"))}),$(e+" .easyPaginateNav a.prev").on("click",function(e){e.preventDefault(),page=plugin.settings.currentPage>1?parseInt(plugin.settings.currentPage)-1:1,displayPage(page)}),$(e+" .easyPaginateNav a.next").on("click",function(e){e.preventDefault(),page=plugin.settings.currentPage<plugin.settings.pages?parseInt(plugin.settings.currentPage)+1:plugin.settings.pages,displayPage(page)})},displayPage=function(page,forceEffect){if(plugin.settings.currentPage!=page)switch(plugin.settings.currentPage=parseInt(page),offsetStart=(page-1)*plugin.settings.elementsPerPage,offsetEnd=page*plugin.settings.elementsPerPage,void 0!==forceEffect?eval("transition_"+forceEffect+"("+offsetStart+", "+offsetEnd+")"):eval("transition_"+plugin.settings.effect+"("+offsetStart+", "+offsetEnd+")"),plugin.nav.find(".current").removeClass("current"),plugin.nav.find("a.page:eq("+(page-1)+")").addClass("current"),plugin.settings.currentPage){case 1:$(".easyPaginateNav a",plugin).removeClass("disabled"),$(".easyPaginateNav a.first, .easyPaginateNav a.prev",plugin).addClass("disabled");break;case plugin.settings.pages:$(".easyPaginateNav a",plugin).removeClass("disabled"),$(".easyPaginateNav a.last, .easyPaginateNav a.next",plugin).addClass("disabled");break;default:$(".easyPaginateNav a",plugin).removeClass("disabled")}},transition_default=function(e,t){plugin.currentElements.hide(),plugin.currentElements=plugin.settings.objElements.slice(e,t).clone(),plugin.el.html(plugin.currentElements),plugin.currentElements.show()},transition_fade=function(e,t){plugin.currentElements.fadeOut(),plugin.currentElements=plugin.settings.objElements.slice(e,t).clone(),plugin.el.html(plugin.currentElements),plugin.currentElements.fadeIn()},transition_slide=function(e,t){plugin.currentElements.animate({"margin-left":-1*plugin.settings.slideOffset,opacity:0},function(){$(this).remove()}),plugin.currentElements=plugin.settings.objElements.slice(e,t).clone(),plugin.currentElements.css({"margin-left":plugin.settings.slideOffset,display:"block",opacity:0,"min-width":plugin.el.width()/2}),plugin.el.html(plugin.currentElements),plugin.currentElements.animate({"margin-left":0,opacity:1})},transition_climb=function(e,t){plugin.currentElements.each(function(e){var t=$(this);setTimeout(function(){t.animate({"margin-left":-1*plugin.settings.slideOffset,opacity:0},function(){$(this).remove()})},200*e)}),plugin.currentElements=plugin.settings.objElements.slice(e,t).clone(),plugin.currentElements.css({"margin-left":plugin.settings.slideOffset,display:"block",opacity:0,"min-width":plugin.el.width()/2}),plugin.el.html(plugin.currentElements),plugin.currentElements.each(function(e){var t=$(this);setTimeout(function(){t.animate({"margin-left":0,opacity:1})},200*e)})};plugin.settings=$.extend({},defaults,options),plugin.currentElements=$([]),plugin.settings.objElements=plugin.el.find(plugin.settings.paginateElement),plugin.settings.pages=getNbOfPages(),plugin.settings.pages>1&&(plugin.el.html(),displayNav(),page=1,-1!=document.location.hash.indexOf("#"+plugin.settings.hashPage+":")&&(page=parseInt(document.location.hash.replace("#"+plugin.settings.hashPage+":","")),(page.length<=0||page<1||page>plugin.settings.pages)&&(page=1)),displayPage(page,"default"))})}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVhc3lQYWdpbmF0ZS5qcyJdLCJuYW1lcyI6WyIkIiwiZm4iLCJlYXN5UGFnaW5hdGUiLCJvcHRpb25zIiwiZGVmYXVsdHMiLCJwYWdpbmF0ZUVsZW1lbnQiLCJoYXNoUGFnZSIsImVsZW1lbnRzUGVyUGFnZSIsImVmZmVjdCIsInNsaWRlT2Zmc2V0IiwiZmlyc3RCdXR0b24iLCJmaXJzdEJ1dHRvblRleHQiLCJsYXN0QnV0dG9uIiwibGFzdEJ1dHRvblRleHQiLCJwcmV2QnV0dG9uIiwicHJldkJ1dHRvblRleHQiLCJuZXh0QnV0dG9uIiwibmV4dEJ1dHRvblRleHQiLCJ0aGlzIiwiZWFjaCIsImluc3RhbmNlIiwicGx1Z2luIiwiZWwiLCJhZGRDbGFzcyIsInNldHRpbmdzIiwicGFnZXMiLCJvYmpFbGVtZW50cyIsIk9iamVjdCIsImN1cnJlbnRQYWdlIiwiZ2V0TmJPZlBhZ2VzIiwiTWF0aCIsImNlaWwiLCJsZW5ndGgiLCJkaXNwbGF5TmF2IiwiaHRtbE5hdiIsImkiLCJuYXYiLCJjc3MiLCJ3aWR0aCIsImFmdGVyIiwiZWxTZWxlY3RvciIsImdldCIsImlkIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJkaXNwbGF5UGFnZSIsImF0dHIiLCJwYWdlIiwicGFyc2VJbnQiLCJmb3JjZUVmZmVjdCIsIm9mZnNldFN0YXJ0Iiwib2Zmc2V0RW5kIiwiZXZhbCIsImZpbmQiLCJyZW1vdmVDbGFzcyIsInRyYW5zaXRpb25fZGVmYXVsdCIsImN1cnJlbnRFbGVtZW50cyIsImhpZGUiLCJzbGljZSIsImNsb25lIiwiaHRtbCIsInNob3ciLCJ0cmFuc2l0aW9uX2ZhZGUiLCJmYWRlT3V0IiwiZmFkZUluIiwidHJhbnNpdGlvbl9zbGlkZSIsImFuaW1hdGUiLCJtYXJnaW4tbGVmdCIsIm9wYWNpdHkiLCJyZW1vdmUiLCJkaXNwbGF5IiwibWluLXdpZHRoIiwidHJhbnNpdGlvbl9jbGltYiIsIiRvYmpUaGlzIiwic2V0VGltZW91dCIsImV4dGVuZCIsImRvY3Vt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S0FBTyxHQUNpRSxHQUFyRTZCLFNBQVNDLFNBQVNDLEtBQUtDLFFBQVEsSUFBSTNELE9BQU9HLFNBQVNsQixTQUFTLE9BQzNEMEMsS0FBT0MsU0FBUzRCLFNBQVNDLFNBQVNDLEtBQUtFLFFBQVEsSUFBSTVELE9BQU9HLFNBQVNsQixTQUFTLElBQUssTUFDOUUwQyxLQUFLaEIsUUFBVSxHQUFLZ0IsS0FBTyxHQUFLQSxLQUFPM0IsT0FBT0csU0FBU0MsU0FDdER1QixLQUFPLElBSWZGLFlBQVlFLEtBQU0sZ0JBSTNCa0MiLCJmaWxlIjoiZWFzeVBhZ2luYXRlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogalF1ZXJ5IGVhc3lTaGFyZSBwbHVnaW5cclxuKiBVcGRhdGUgb24gMDQgYXByaWwgMjAxN1xyXG4qIFZlcnNpb24gMS4yXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciBHUEwgPGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvR05VX0dlbmVyYWxfUHVibGljX0xpY2Vuc2U+XHJcbiogQ29weXJpZ2h0IChjKSAyMDA4LCBTdD9oYW5lIExpdG91IDxjb250YWN0QG11c2h0aXR1ZGUuY29tPlxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XHJcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxyXG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXHJcbiAgICBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcclxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXHJcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXHJcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcclxuICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxyXG4qL1xyXG5cclxuKGZ1bmN0aW9uKCQpe1xyXG4gICAgJC5mbi5lYXN5UGFnaW5hdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgcGFnaW5hdGVFbGVtZW50OiAnbGknLFxyXG4gICAgICAgICAgICBoYXNoUGFnZTogJ3BhZ2UnLFxyXG4gICAgICAgICAgICBlbGVtZW50c1BlclBhZ2U6IDEwLFxyXG4gICAgICAgICAgICBlZmZlY3Q6ICdkZWZhdWx0JyxcclxuICAgICAgICAgICAgc2xpZGVPZmZzZXQ6IDIwMCxcclxuICAgICAgICAgICAgZmlyc3RCdXR0b246IHRydWUsXHJcbiAgICAgICAgICAgIGZpcnN0QnV0dG9uVGV4dDogJzw8JyxcclxuICAgICAgICAgICAgbGFzdEJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgbGFzdEJ1dHRvblRleHQ6ICc+PicsICAgICAgICBcclxuICAgICAgICAgICAgcHJldkJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICAgICAgcHJldkJ1dHRvblRleHQ6ICc8JywgICAgICAgIFxyXG4gICAgICAgICAgICBuZXh0QnV0dG9uOiB0cnVlLFxyXG4gICAgICAgICAgICBuZXh0QnV0dG9uVGV4dDogJz4nXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoIChmdW5jdGlvbiAoaW5zdGFuY2UpIHsgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IHt9O1xyXG4gICAgICAgICAgICBwbHVnaW4uZWwgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBwbHVnaW4uZWwuYWRkQ2xhc3MoJ2Vhc3lQYWdpbmF0ZUxpc3QnKTtcclxuICAgIFxyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICBwYWdlczogMCxcclxuICAgICAgICAgICAgICAgIG9iakVsZW1lbnRzOiBPYmplY3QsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgZ2V0TmJPZlBhZ2VzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHBsdWdpbi5zZXR0aW5ncy5vYmpFbGVtZW50cy5sZW5ndGggLyBwbHVnaW4uc2V0dGluZ3MuZWxlbWVudHNQZXJQYWdlKTsgICAgICAgICBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5TmF2ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sTmF2ID0gJzxkaXYgY2xhc3M9XCJlYXN5UGFnaW5hdGVOYXZcIj4nO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihwbHVnaW4uc2V0dGluZ3MuZmlyc3RCdXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sTmF2ICs9ICc8YSBocmVmPVwiIycrcGx1Z2luLnNldHRpbmdzLmhhc2hQYWdlKyc6MVwiIHRpdGxlPVwiRmlyc3QgcGFnZVwiIHJlbD1cIjFcIiBjbGFzcz1cImZpcnN0XCI+JytwbHVnaW4uc2V0dGluZ3MuZmlyc3RCdXR0b25UZXh0Kyc8L2E+JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYocGx1Z2luLnNldHRpbmdzLnByZXZCdXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sTmF2ICs9ICc8YSBocmVmPVwiXCIgdGl0bGU9XCJQcmV2aW91c1wiIHJlbD1cIlwiIGNsYXNzPVwicHJldlwiPicrcGx1Z2luLnNldHRpbmdzLnByZXZCdXR0b25UZXh0Kyc8L2E+JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yKGkgPSAxO2kgPD0gcGx1Z2luLnNldHRpbmdzLnBhZ2VzO2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxOYXYgKz0gJzxhIGhyZWY9XCIjJytwbHVnaW4uc2V0dGluZ3MuaGFzaFBhZ2UrJzonK2krJ1wiIHRpdGxlPVwiUGFnZSAnK2krJ1wiIHJlbD1cIicraSsnXCIgY2xhc3M9XCJwYWdlXCI+JytpKyc8L2E+JztcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKHBsdWdpbi5zZXR0aW5ncy5uZXh0QnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbE5hdiArPSAnPGEgaHJlZj1cIlwiIHRpdGxlPVwiTmV4dFwiIHJlbD1cIlwiIGNsYXNzPVwibmV4dFwiPicrcGx1Z2luLnNldHRpbmdzLm5leHRCdXR0b25UZXh0Kyc8L2E+JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYocGx1Z2luLnNldHRpbmdzLmxhc3RCdXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICBodG1sTmF2ICs9ICc8YSBocmVmPVwiIycrcGx1Z2luLnNldHRpbmdzLmhhc2hQYWdlKyc6JytwbHVnaW4uc2V0dGluZ3MucGFnZXMrJ1wiIHRpdGxlPVwiTGFzdCBwYWdlXCIgcmVsPVwiJytwbHVnaW4uc2V0dGluZ3MucGFnZXMrJ1wiIGNsYXNzPVwibGFzdFwiPicrcGx1Z2luLnNldHRpbmdzLmxhc3RCdXR0b25UZXh0Kyc8L2E+JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaHRtbE5hdiArPSAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5uYXYgPSAkKGh0bWxOYXYpO1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luLm5hdi5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6IHBsdWdpbi5lbC53aWR0aCgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5lbC5hZnRlcihwbHVnaW4ubmF2KTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIGVsU2VsZWN0b3IgPSAnIycgKyBwbHVnaW4uZWwuZ2V0KDApLmlkICsgJyArICc7XHJcbiAgICAgICAgICAgICAgICAkKGVsU2VsZWN0b3IgKyAnIC5lYXN5UGFnaW5hdGVOYXYgYS5wYWdlLCdcclxuICAgICAgICAgICAgICAgICAgICArIGVsU2VsZWN0b3IgKyAnIC5lYXN5UGFnaW5hdGVOYXYgYS5maXJzdCwnXHJcbiAgICAgICAgICAgICAgICAgICAgKyBlbFNlbGVjdG9yICsgJyAuZWFzeVBhZ2luYXRlTmF2IGEubGFzdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBhZ2UoJCh0aGlzKS5hdHRyKCdyZWwnKSk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICQoZWxTZWxlY3RvciArICcgLmVhc3lQYWdpbmF0ZU5hdiBhLnByZXYnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UgPSBwbHVnaW4uc2V0dGluZ3MuY3VycmVudFBhZ2UgPiAxP3BhcnNlSW50KHBsdWdpbi5zZXR0aW5ncy5jdXJyZW50UGFnZSkgLSAxOjE7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBhZ2UocGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgJChlbFNlbGVjdG9yICsgJyAuZWFzeVBhZ2luYXRlTmF2IGEubmV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZSA9IHBsdWdpbi5zZXR0aW5ncy5jdXJyZW50UGFnZSA8IHBsdWdpbi5zZXR0aW5ncy5wYWdlcz9wYXJzZUludChwbHVnaW4uc2V0dGluZ3MuY3VycmVudFBhZ2UpICsgMTpwbHVnaW4uc2V0dGluZ3MucGFnZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVBhZ2UocGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIGZvcmNlRWZmZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihwbHVnaW4uc2V0dGluZ3MuY3VycmVudFBhZ2UgIT0gcGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5jdXJyZW50UGFnZSA9IHBhcnNlSW50KHBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFN0YXJ0ID0gKHBhZ2UgLSAxKSAqIHBsdWdpbi5zZXR0aW5ncy5lbGVtZW50c1BlclBhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0RW5kID0gcGFnZSAqIHBsdWdpbi5zZXR0aW5ncy5lbGVtZW50c1BlclBhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mKGZvcmNlRWZmZWN0KSAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsKFwidHJhbnNpdGlvbl9cIitmb3JjZUVmZmVjdCtcIihcIitvZmZzZXRTdGFydCtcIiwgXCIrb2Zmc2V0RW5kK1wiKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwoXCJ0cmFuc2l0aW9uX1wiK3BsdWdpbi5zZXR0aW5ncy5lZmZlY3QrXCIoXCIrb2Zmc2V0U3RhcnQrXCIsIFwiK29mZnNldEVuZCtcIilcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5uYXYuZmluZCgnLmN1cnJlbnQnKS5yZW1vdmVDbGFzcygnY3VycmVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5uYXYuZmluZCgnYS5wYWdlOmVxKCcrKHBhZ2UgLSAxKSsnKScpLmFkZENsYXNzKCdjdXJyZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHBsdWdpbi5zZXR0aW5ncy5jdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZWFzeVBhZ2luYXRlTmF2IGEnLCBwbHVnaW4pLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVhc3lQYWdpbmF0ZU5hdiBhLmZpcnN0LCAuZWFzeVBhZ2luYXRlTmF2IGEucHJldicsIHBsdWdpbikuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBwbHVnaW4uc2V0dGluZ3MucGFnZXM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZWFzeVBhZ2luYXRlTmF2IGEnLCBwbHVnaW4pLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVhc3lQYWdpbmF0ZU5hdiBhLmxhc3QsIC5lYXN5UGFnaW5hdGVOYXYgYS5uZXh0JywgcGx1Z2luKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVhc3lQYWdpbmF0ZU5hdiBhJywgcGx1Z2luKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uX2RlZmF1bHQgPSBmdW5jdGlvbihvZmZzZXRTdGFydCwgb2Zmc2V0RW5kKSB7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uY3VycmVudEVsZW1lbnRzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5jdXJyZW50RWxlbWVudHMgPSBwbHVnaW4uc2V0dGluZ3Mub2JqRWxlbWVudHMuc2xpY2Uob2Zmc2V0U3RhcnQsIG9mZnNldEVuZCkuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5lbC5odG1sKHBsdWdpbi5jdXJyZW50RWxlbWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luLmN1cnJlbnRFbGVtZW50cy5zaG93KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbl9mYWRlID0gZnVuY3Rpb24ob2Zmc2V0U3RhcnQsIG9mZnNldEVuZCkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luLmN1cnJlbnRFbGVtZW50cy5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uY3VycmVudEVsZW1lbnRzID0gcGx1Z2luLnNldHRpbmdzLm9iakVsZW1lbnRzLnNsaWNlKG9mZnNldFN0YXJ0LCBvZmZzZXRFbmQpLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uZWwuaHRtbChwbHVnaW4uY3VycmVudEVsZW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5jdXJyZW50RWxlbWVudHMuZmFkZUluKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbl9zbGlkZSA9IGZ1bmN0aW9uKG9mZnNldFN0YXJ0LCBvZmZzZXRFbmQpIHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5jdXJyZW50RWxlbWVudHMuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JzogcGx1Z2luLnNldHRpbmdzLnNsaWRlT2Zmc2V0ICogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAwXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5jdXJyZW50RWxlbWVudHMgPSBwbHVnaW4uc2V0dGluZ3Mub2JqRWxlbWVudHMuc2xpY2Uob2Zmc2V0U3RhcnQsIG9mZnNldEVuZCkuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5jdXJyZW50RWxlbWVudHMuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWxlZnQnOiBwbHVnaW4uc2V0dGluZ3Muc2xpZGVPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnYmxvY2snLFxyXG4gICAgICAgICAgICAgICAgICAgICdvcGFjaXR5JzogMCxcclxuICAgICAgICAgICAgICAgICAgICAnbWluLXdpZHRoJzogcGx1Z2luLmVsLndpZHRoKCkgLyAyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5lbC5odG1sKHBsdWdpbi5jdXJyZW50RWxlbWVudHMpO1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luLmN1cnJlbnRFbGVtZW50cy5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWxlZnQnOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICdvcGFjaXR5JzogMVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uX2NsaW1iID0gZnVuY3Rpb24ob2Zmc2V0U3RhcnQsIG9mZnNldEVuZCkgeyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcGx1Z2luLmN1cnJlbnRFbGVtZW50cy5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJG9ialRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRvYmpUaGlzLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JzogcGx1Z2luLnNldHRpbmdzLnNsaWRlT2Zmc2V0ICogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBpICogMjAwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uY3VycmVudEVsZW1lbnRzID0gcGx1Z2luLnNldHRpbmdzLm9iakVsZW1lbnRzLnNsaWNlKG9mZnNldFN0YXJ0LCBvZmZzZXRFbmQpLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uY3VycmVudEVsZW1lbnRzLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JzogcGx1Z2luLnNldHRpbmdzLnNsaWRlT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2Jsb2NrJyxcclxuICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ21pbi13aWR0aCc6IHBsdWdpbi5lbC53aWR0aCgpIC8gMlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uZWwuaHRtbChwbHVnaW4uY3VycmVudEVsZW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5jdXJyZW50RWxlbWVudHMuZWFjaChmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRvYmpUaGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkb2JqVGhpcy5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgaSAqIDIwMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHBsdWdpbi5jdXJyZW50RWxlbWVudHMgPSAkKFtdKTtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLm9iakVsZW1lbnRzID0gcGx1Z2luLmVsLmZpbmQocGx1Z2luLnNldHRpbmdzLnBhZ2luYXRlRWxlbWVudCk7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5wYWdlcyA9IGdldE5iT2ZQYWdlcygpO1xyXG4gICAgICAgICAgICBpZihwbHVnaW4uc2V0dGluZ3MucGFnZXMgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4uZWwuaHRtbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBnb1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheU5hdigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBwYWdlID0gMTtcclxuICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmxvY2F0aW9uLmhhc2guaW5kZXhPZignIycrcGx1Z2luLnNldHRpbmdzLmhhc2hQYWdlKyc6JykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlID0gcGFyc2VJbnQoZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJytwbHVnaW4uc2V0dGluZ3MuaGFzaFBhZ2UrJzonLCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhZ2UubGVuZ3RoIDw9IDAgfHwgcGFnZSA8IDEgfHwgcGFnZSA+IHBsdWdpbi5zZXR0aW5ncy5wYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlQYWdlKHBhZ2UsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB9KShqUXVlcnkpOyJdfQ==
